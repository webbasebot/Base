<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" />
<meta name="theme-color" content="#000000" />
<title>TradingView ‚Äî Track All Markets</title>

<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJCSURBVHgB7VdNbtswEJ0hJTt16aJAD9BDF0V7gh6hRXuCJido0hM06QmSnKA5QZJFF+2ii/YEPUKBoosuDEhUP7TkdCRSomTZciAH6AsMQBI1M/N45kOmKP5HKdgAEomE2263P+BYBXsCxwrHMfZrURTfAoHALY7varX6gHtkCXiA+Xz+FYe3yMlEURTfcbxUVfUTBfVCofAFYw9Go9FXeANJGgDeNcY+4ahBXwPHTrlc/oL+OzzX4fMOGRMG0AfoGxAy3lNgPB7fYawO/1NyTOCN22w2n7C9DjKZTBpHCoJ0T6GBnkwmX1HdNRzkKVHwwTCOj7yDeEDv7u6+4uTvAfeRjWazWYffLQ4SBAcDQMNNTXTMZrNr5L5nh3sKD5AEEklgTvVvtfgEuL+/f8L2uVXO4iFA3kt0gOLxOJUgbjEHj7o9ZF1R5bJ9pBhQr0HuZlBuCOABEbLf1uk0AOJY7J4aDOCosu37fP4A4yIOF+IehQUAAQS73e4jThJiDsUYIIVCIZpMJpcYu8P5Dzj/gOMKx08cL3Gs4HiBcx3Hc5wfcLzEcY3jGc5POF7h+IDjOY5XOD7ieI/jHY73ON7ieIPjLY43ON7ieI3jFY5XOF7ieIPjLY5XON7geI3jFY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XOF7heIPjLfX+CQL/AAg9fqxUcAP3AAAAAElFTkSuQmCC">

<style>
  :root{
    --bg: #000000;
    --panel: #0b0b0d;
    --muted: #99a3ad;
    --accent: #00b894;
    --btn-text: #071219;
    --radius: 10px;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color: #e6eef6;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;background:var(--bg);color:var(--muted);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  
  /* Header */
  header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;max-width:1300px;margin:0 auto;border-bottom:1px solid rgba(255,255,255,0.03)}
  .logo{display:flex;align-items:center;gap:10px;color:#fff;font-weight:700;font-size:18px}
  .nav{display:flex;gap:14px;align-items:center}
  .nav a{color:var(--muted);font-weight:600;font-size:15px;transition:color 0.2s}
  .nav a:hover{color:#fff}
  .btn-primary{background:var(--accent);color:var(--btn-text);padding:8px 16px;border-radius:8px;font-weight:700;border:0;cursor:pointer;transition:all 0.3s}
  .btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,184,148,0.3)}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.1);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer;transition:all 0.2s}
  .btn-ghost:hover{background:rgba(255,255,255,0.03);color:#fff}
  
  /* More Options */
  .more-options{position:relative}
  .dropdown{display:none;position:absolute;top:100%;right:0;margin-top:8px;background:var(--panel);border:1px solid rgba(255,255,255,0.1);border-radius:8px;min-width:200px;box-shadow:0 4px 20px rgba(0,0,0,0.5);z-index:1000}
  .dropdown.active{display:block}
  .dropdown a,.dropdown button{display:block;width:100%;text-align:left;padding:12px 16px;color:var(--muted);background:transparent;border:0;cursor:pointer;transition:all 0.2s;font-size:14px}
  .dropdown a:hover,.dropdown button:hover{background:rgba(255,255,255,0.03);color:#fff}
  
  /* Container */
  .container{max-width:1300px;margin:18px auto;padding:0 18px;display:flex;flex-direction:column;gap:18px}
  
  /* Hero */
  .hero{display:flex;gap:18px;align-items:center;justify-content:space-between;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:40px 20px;border-radius:12px}
  .hero h1{color:#fff;font-size:clamp(24px,3.5vw,42px);margin:0 0 12px 0;font-weight:800}
  .hero p{color:var(--muted);margin:0 0 20px 0;font-size:18px}
  
  /* Panels */
  .panel{background:var(--panel);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .tv-widget-wrap{background:#000;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
  
  /* Market Cards */
  .market-cards{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}
  .card{background:linear-gradient(180deg, rgba(0,184,148,0.05), rgba(255,255,255,0.00));padding:12px 16px;border-radius:10px;min-width:140px;color:#fff;border:1px solid rgba(0,184,148,0.1);transition:all 0.3s}
  .card:hover{transform:translateY(-2px);border-color:rgba(0,184,148,0.3)}
  .card strong{display:block;margin-bottom:4px;font-size:16px}
  .card .muted{color:var(--muted);font-size:13px}
  
  /* Grid Layouts */
  main{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
  
  /* Features */
  .feature-card{background:var(--panel);padding:24px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);transition:all 0.3s}
  .feature-card:hover{transform:translateY(-4px);border-color:rgba(0,184,148,0.2)}
  .feature-icon{font-size:36px;margin-bottom:12px}
  .feature-card h3{color:#fff;margin-bottom:8px;font-size:18px}
  .feature-card p{color:var(--muted);font-size:14px;line-height:1.6}
  
  /* Brokers */
  .broker-card{background:var(--panel);padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);text-align:center;transition:all 0.3s}
  .broker-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(0,0,0,0.3)}
  .broker-logo{width:100px;height:50px;margin:0 auto 12px;background:rgba(255,255,255,0.9);border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#000;font-size:14px}
  
  /* Watchlist */
  .watchlist .row{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.02)}
  .watchlist .row:last-child{border-bottom:none}
  
  /* Loading Overlay */
  .loading-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:10000;align-items:center;justify-content:center;flex-direction:column;gap:20px}
  .loading-overlay.active{display:flex}
  .spinner{width:50px;height:50px;border:4px solid rgba(255,255,255,0.1);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
  .loading-text{font-size:18px;color:#fff}
  .loading-progress{width:300px;height:4px;background:rgba(255,255,255,0.1);border-radius:2px;overflow:hidden}
  .loading-bar{height:100%;background:var(--accent);width:0%;transition:width 0.3s}
  
  /* PWA Install Modal */
  .install-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:9999;align-items:center;justify-content:center}
  .install-modal.active{display:flex}
  .modal-content{background:var(--panel);border-radius:12px;padding:32px;max-width:400px;width:90%;border:1px solid rgba(255,255,255,0.1)}
  .modal-header{display:flex;align-items:center;gap:12px;margin-bottom:16px}
  .modal-logo{width:48px;height:48px;border-radius:8px}
  .modal-header h3{font-size:20px;color:#fff}
  .modal-body p{color:var(--muted);margin-bottom:24px;line-height:1.6}
  .modal-actions{display:flex;gap:12px;justify-content:flex-end}
  
  /* Footer */
  footer{color:var(--muted);text-align:center;padding:40px 20px;font-size:14px;border-top:1px solid rgba(255,255,255,0.03);margin-top:40px}
  .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:32px;max-width:1300px;margin:0 auto 32px;text-align:left}
  .footer-section h4{color:#fff;margin-bottom:12px;font-size:16px}
  .footer-section ul{list-style:none}
  .footer-section li{margin-bottom:8px}
  .footer-section a{color:var(--muted);font-size:14px;transition:color 0.2s}
  .footer-section a:hover{color:#fff}
  
  /* Responsive */
  @media (max-width:980px){
    main{grid-template-columns:1fr}
    .hero{flex-direction:column;align-items:flex-start}
    .nav{display:none}
    .grid-2,.grid-3{grid-template-columns:1fr}
  }
</style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="5" fill="#0b0b0d"/><path d="M3 17 L8 10 L12 14 L21 5" stroke="#00b894" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
      TradingView
    </div>

    <nav class="nav">
      <a href="#products">Products</a>
      <a href="#markets">Markets</a>
      <a href="#community">Community</a>
      <a href="#brokers">Brokers</a>
      <a href="#pricing">Pricing</a>
      <div class="more-options">
        <button class="btn-ghost" id="moreOptionsBtn">More Options</button>
        <div class="dropdown" id="moreOptionsDropdown">
          <button class="connect-portfolio">Connect Portfolio</button>
          <button class="login-id">Login ID</button>
          <button class="support-btn">Support</button>
          <button class="start-trial-dropdown">Start Free Trial</button>
        </div>
      </div>
      <button class="btn-ghost" id="loginBtn">Login</button>
      <button class="btn-primary" id="signupBtn">Sign up ‚Äî Free</button>
    </nav>
  </header>

  <div class="container">
    <!-- Hero -->
    <section class="hero">
      <div style="flex:1">
        <h1>Where the world charts, chats & trades markets</h1>
        <p>Join millions of traders using our powerful charting platform and social network</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn-primary get-started-btn">Get Started For Free</button>
          <button class="btn-ghost start-trial-btn">Start Free Trial</button>
        </div>

        <div class="market-cards">
          <div class="card"><strong>S&P 500</strong><div class="muted">4,567 ‚Ä¢ <span style="color:#00b894">+0.72%</span></div></div>
          <div class="card"><strong>BTC</strong><div class="muted" id="btc-price">42,987 ‚Ä¢ <span style="color:#00b894">+1.9%</span></div></div>
          <div class="card"><strong>AUDUSD</strong><div class="muted">0.6473 ‚Ä¢ <span style="color:#f44336">-0.12%</span></div></div>
        </div>
      </div>

      <aside style="width:320px">
        <div class="panel">
          <div style="display:flex;justify-content:space-between;margin-bottom:8px">
            <div><strong style="color:#fff">BTC / USD</strong><div style="font-size:12px">Realtime</div></div>
            <div style="color:#00b894;font-weight:700">+1.9%</div>
          </div>
          <div id="mini_symbol" class="tv-widget-wrap" style="height:110px"></div>
          <button class="btn-primary" style="width:100%;margin-top:10px" onclick="scrollToId('tradingview_chart')">Open Chart</button>
        </div>
      </aside>
    </section>

    <!-- Ticker Tape -->
    <section class="panel" style="padding:10px">
      <div style="height:56px" id="ticker_tape_container"></div>
    </section>

    <!-- Main: Advanced Chart + Sidebar -->
    <main>
      <section class="panel" id="products">
        <div style="display:flex;justify-content:space-between;margin-bottom:8px">
          <div style="color:var(--muted);font-size:14px">Symbol ‚Ä¢ Timeframes ‚Ä¢ Indicators ‚Ä¢ Templates ‚Ä¢ Save</div>
          <div style="display:flex;gap:8px">
            <button class="btn-ghost" onclick="alert('Snapshot feature')">Snapshot</button>
            <button class="btn-ghost" onclick="alert('Share feature')">Share</button>
          </div>
        </div>

        <div id="tradingview_chart" class="tv-widget-wrap" style="height:640px"></div>

        <div class="grid-2" style="margin-top:12px;gap:12px">
          <div><h4 style="color:#fff;margin-bottom:6px">Chart Area</h4><div style="font-size:14px">Candles, indicators, multi-pane layout, crosshair</div></div>
          <div><h4 style="color:#fff;margin-bottom:6px">Drawing Tools</h4><div style="font-size:14px">Trend lines, fibs, shapes, text</div></div>
          <div><h4 style="color:#fff;margin-bottom:6px">Trading Panel</h4><div style="font-size:14px">Order ticket, positions, history</div></div>
          <div><h4 style="color:#fff;margin-bottom:6px">DOM / Order Book</h4><div style="font-size:14px">Depth of Market visualization</div></div>
        </div>
      </section>

      <aside style="display:flex;flex-direction:column;gap:12px">
        <div class="panel watchlist">
          <h4 style="color:#fff;margin-bottom:8px">Watchlist</h4>
          <div class="row"><div style="color:#fff">BTCUSD</div><div id="watch-btc">42,987</div></div>
          <div class="row"><div style="color:#fff">AAPL</div><div>176.22</div></div>
          <div class="row"><div style="color:#fff">EURUSD</div><div>1.0842</div></div>
        </div>

        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Market Overview</h4>
          <div id="market_overview_widget" style="height:230px" class="tv-widget-wrap"></div>
        </div>

        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Trading Panel</h4>
          <div style="display:flex;gap:8px">
            <button class="btn-primary" style="flex:1">Buy</button>
            <button class="btn-ghost" style="flex:1">Sell</button>
          </div>
          <div style="margin-top:8px;font-size:13px">Connect to broker to start trading</div>
        </div>
      </aside>
    </main>

    <!-- Lightweight Charts + Widgets -->
    <section class="grid-2">
      <div class="panel" id="markets">
        <h3 style="color:#fff;margin-bottom:8px">Lightweight Charts Demo</h3>
        <div id="lw_chart" class="tv-widget-wrap" style="height:320px"></div>
        <div style="margin-top:8px;font-size:13px">Fast & lightweight charting solution</div>
      </div>

      <div style="display:flex;flex-direction:column;gap:12px">
        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Stock Screener</h4>
          <div id="screener_container" class="tv-widget-wrap" style="height:150px"></div>
        </div>

        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Economic Calendar</h4>
          <div id="economic_calendar_container" class="tv-widget-wrap" style="height:140px"></div>
        </div>
      </div>
    </section>

    <!-- Market Heatmap -->
    <section class="panel">
      <h3 style="color:#fff;margin-bottom:8px">Market Heatmap</h3>
      <div id="heatmap_container" class="tv-widget-wrap" style="height:400px"></div>
    </section>

    <!-- Features -->
    <section>
      <h2 style="color:#fff;margin-bottom:20px;font-size:32px;text-align:center">Powerful Trading Tools</h2>
      <div class="grid-3">
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Advanced Charting</h3>
          <p>Professional charts with 100+ indicators and drawing tools</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîç</div>
          <h3>Stock Screener</h3>
          <p>Find opportunities across thousands of assets</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîî</div>
          <h3>Price Alerts</h3>
          <p>Never miss trading opportunities</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üó∫Ô∏è</div>
          <h3>Heatmaps</h3>
          <p>Visualize market movements at a glance</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚öôÔ∏è</div>
          <h3>Pine Script</h3>
          <p>Create custom indicators and strategies</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üåê</div>
          <h3>Data Coverage</h3>
          <p>Access 100+ exchanges worldwide</p>
        </div>
      </div>
    </section>

    <!-- Community -->
    <section id="community">
      <h2 style="color:#fff;margin-bottom:20px;font-size:32px;text-align:center">Join Our Community</h2>
      <div class="grid-3">
        <div class="panel">
          <h3 style="color:#fff;margin-bottom:8px">üí° Trading Ideas</h3>
          <p>Explore thousands of trading ideas shared by our community</p>
        </div>
        <div class="panel">
          <h3 style="color:#fff;margin-bottom:8px">üìú Scripts</h3>
          <p>Browse custom indicators and strategies</p>
        </div>
        <div class="panel">
          <h3 style="color:#fff;margin-bottom:8px">‚≠ê Top Analysts</h3>
          <p>Follow popular traders and learn from experts</p>
        </div>
      </div>
    </section>

    <!-- Brokers -->
    <section id="brokers">
      <h2 style="color:#fff;margin-bottom:20px;font-size:32px;text-align:center">Connect Your Broker</h2>
      <p style="text-align:center;margin-bottom:20px">Trade directly from charts with integrated broker partners</p>
      <div class="grid-3">
        <div class="broker-card">
          <div class="broker-logo">Capital.com</div>
          <h3 style="color:#fff;margin-bottom:8px">Capital.com</h3>
          <p style="font-size:14px;margin-bottom:12px">Trade CFDs on 6,000+ markets</p>
          <button class="btn-primary open-account-btn" data-broker="Capital.com">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">IC Markets</div>
          <h3 style="color:#fff;margin-bottom:8px">IC Markets</h3>
          <p style="font-size:14px;margin-bottom:12px">Low spreads and fast execution</p>
          <button class="btn-primary open-account-btn" data-broker="IC Markets">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">EasyMarkets</div>
          <h3 style="color:#fff;margin-bottom:8px">Easy Markets</h3>
          <p style="font-size:14px;margin-bottom:12px">Fixed spreads guaranteed</p>
          <button class="btn-primary open-account-btn" data-broker="Easy Markets">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">ThinkMarkets</div>
          <h3 style="color:#fff;margin-bottom:8px">Think Markets</h3>
          <p style="font-size:14px;margin-bottom:12px">Award-winning broker</p>
          <button class="btn-primary open-account-btn" data-broker="Think Markets">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">ActivTrades</div>
          <h3 style="color:#fff;margin-bottom:8px">ActivTrades</h3>
          <p style="font-size:14px;margin-bottom:12px">Regulated European broker</p>
          <button class="btn-primary open-account-btn" data-broker="ActivTrades">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">Trade Nation</div>
          <h3 style="color:#fff;margin-bottom:8px">Trade Nation</h3>
          <p style="font-size:14px;margin-bottom:12px">Simple transparent trading</p>
          <button class="btn-primary open-account-btn" data-broker="Trade Nation">Open Account</button>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-grid">
        <div class="footer-section">
          <h4>Products</h4>
          <ul>
            <li><a href="#">Supercharts</a></li>
            <li><a href="#">Pine Script</a></li>
            <li><a href="#">Stock Screener</a></li>
            <li><a href="#">Forex Screener</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About</a></li>
            <li><a href="#">Features</a></li>
            <li><a href="#pricing">Pricing</a></li>
            <li><a href="#">Wall of Love</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Community</h4>
          <ul>
            <li><a href="#">Ideas</a></li>
            <li><a href="#">Scripts</a></li>
            <li><a href="#">Chat</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal & Support</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Use</a></li>
          </ul>
        </div>
      </div>
      <div>¬© <span id="year"></span> Trading View Portfolio Tracker ‚Ä¢ All rights reserved</div>
    </footer>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <div class="loading-text" id="loadingText">Preparing your experience...</div>
    <div class="loading-progress">
      <div class="loading-bar" id="loadingBar"></div>
    </div>
  </div>

  <!-- PWA Install Modal -->
  <div class="install-modal" id="installModal">
    <div class="modal-content">
      <div class="modal-header">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJCSURBVHgB7VdNbtswEJ0hJTt16aJAD9BDF0V7gh6hRXuCJido0hM06QmSnKA5QZJFF+2ii/YEPUKBoosuDEhUP7TkdCRSomTZciAH6AsMQBI1M/N45kOmKP5HKdgAEomE2263P+BYBXsCxwrHMfZrURTfAoHALY7varX6gHtkCXiA+Xz+FYe3yMlEURTfcbxUVfUTBfVCofAFYw9Go9FXeANJGgDeNcY+4ahBXwPHTrlc/oL+OzzX4fMOGRMG0AfoGxAy3lNgPB7fYawO/1NyTOCN22w2n7C9DjKZTBpHCoJ0T6GBnkwmX1HdNRzkKVHwwTCOj7yDeEDv7u6+4uTvAfeRjWazWYffLQ4SBAcDQMNNTXTMZrNr5L5nh3sKD5AEEklgTvVvtfgEuL+/f8L2uVXO4iFA3kt0gOLxOJUgbjEHj7o9ZF1R5bJ9pBhQr0HuZlBuCOABEbLf1uk0AOJY7J4aDOCosu37fP4A4yIOF+IehQUAAQS73e4jThJiDsUYIIVCIZpMJpcYu8P5Dzj/gOMKx08cL3Gs4HiBcx3Hc5wfcLzEcY3jGc5POF7h+IDjOY5XOD7ieI/jHY73ON7ieIPjLY43ON7ieI3jFY5XOF7ieIPjLY5XON7geI3jFY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XOF7heIPjLfX+CQL/AAg9fqxUcAP3AAAAAElFTkSuQmCC" alt="Logo" class="modal-logo">
        <h3>Install Trading View Portfolio Tracker</h3>
      </div>
      <div class="modal-body">
        <p>Install the app for faster access, offline support, and native experience on your device.</p>
      </div>
      <div class="modal-actions">
        <button class="btn-ghost" id="cancelInstall">Cancel</button>
        <button class="btn-primary" id="installBtn">Get App</button>
      </div>
    </div>
  </div>

  <!-- TradingView Scripts -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script src="https://unpkg.com/lightweight-charts@3.9.0/dist/lightweight-charts.standalone.production.js"></script>

  <script>
    // PWA Configuration
    const CACHE_NAME = 'tradingview-pwa-v1';
    const PRECACHE_URLS = ['/', '/index.html', '/AI-Trading-Bot.html'];
    const APP_NAME = 'Trading View Portfolio Tracker';
    const THEME_COLOR = '#000000';
    const ICON_URL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJCSURBVHgB7VdNbtswEJ0hJTt16aJAD9BDF0V7gh6hRXuCJido0hM06QmSnKA5QZJFF+2ii/YEPUKBoosuDEhUP7TkdCRSomTZciAH6AsMQBI1M/N45kOmKP5HKdgAEomE2263P+BYBXsCxwrHMfZrURTfAoHALY7varX6gHtkCXiA+Xz+FYe3yMlEURTfcbxUVfUTBfVCofAFYw9Go9FXeANJGgDeNcY+4ahBXwPHTrlc/oL+OzzX4fMOGRMG0AfoGxAy3lNgPB7fYawO/1NyTOCN22w2n7C9DjKZTBpHCoJ0T6GBnkwmX1HdNRzkKVHwwTCOj7yDeEDv7u6+4uTvAfeRjWazWYffLQ4SBAcDQMNNTXTMZrNr5L5nh3sKD5AEEklgTvVvtfgEuL+/f8L2uVXO4iFA3kt0gOLxOJUgbjEHj7o9ZF1R5bJ9pBhQr0HuZlBuCOABEbLf1uk0AOJY7J4aDOCosu37fP4A4yIOF+IehQUAAQS73e4jThJiDsUYIIVCIZpMJpcYu8P5Dzj/gOMKx08cL3Gs4HiBcx3Hc5wfcLzEcY3jGc5POF7h+IDjOY5XOD7ieI/jHY73ON7ieIPjLY43ON7ieI3jFY5XOF7ieIPjLY5XON7geI3jFY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XON7geIPjLY5XON7geIPjLY5XOF7heIPjLY5XON7geIPjLY5XOF7heIPjLfX+CQL/AAg9fqxUcAP3AAAAAElFTkSuQmCC';
    
    let deferredPrompt = null;
    let swRegistration = null;
    
    // Create manifest
    function ensureManifest() {
      try {
        const existing = document.querySelector('link[rel="manifest"]');
        if (existing) existing.remove();
        
        const manifest = {
          name: APP_NAME,
          short_name: 'TradingView',
          start_url: '/index.html',
          scope: '/',
          display: 'standalone',
          theme_color: THEME_COLOR,
          background_color: THEME_COLOR,
          icons: [
            { src: ICON_URL, sizes: '192x192', type: 'image/png' },
            { src: ICON_URL, sizes: '512x512', type: 'image/png' }
          ]
        };
        
        const blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('link');
        link.rel = 'manifest';
        link.href = url;
        document.head.appendChild(link);
        console.info('PWA manifest created');
      } catch (err) {
        console.error('Manifest error:', err);
      }
    }
    
    // Register service worker
    async function registerServiceWorker() {
      if (!('serviceWorker' in navigator)) return null;
      
      try {
        const reg = await navigator.serviceWorker.register('/sw.js');
        swRegistration = reg;
        console.info('Service Worker registered');
        await navigator.serviceWorker.ready;
        return reg;
      } catch (err) {
        console.error('SW error:', err);
        return null;
      }
    }
    
    // Show/hide install modal
    function showInstallModal() {
      document.getElementById('installModal').classList.add('active');
    }
    
    function hideInstallModal() {
      document.getElementById('installModal').classList.remove('active');
    }
    
    // Install app
    async function installApp() {
      if (deferredPrompt) {
        try {
          deferredPrompt.prompt();
          const choice = await deferredPrompt.userChoice;
          deferredPrompt = null;
          if (choice.outcome === 'accepted') {
            console.log('App installed');
          }
        } catch (err) {
          console.error('Install error:', err);
        }
      } else {
        await registerServiceWorker();
        alert('App installed! You can now use it offline.');
      }
      hideInstallModal();
    }
    
    // Redirect with loading
    function redirectWithLoading(url) {
      const overlay = document.getElementById('loadingOverlay');
      const bar = document.getElementById('loadingBar');
      const text = document.getElementById('loadingText');
      
      overlay.classList.add('active');
      text.textContent = 'Preparing your experience...';
      
      let progress = 0;
      const interval = setInterval(() => {
        progress += 100 / 15;
        if (progress >= 100) {
          progress = 100;
          clearInterval(interval);
          setTimeout(() => window.location.href = url, 500);
        }
        bar.style.width = progress + '%';
      }, 1000);
    }
    
    // Fetch crypto data
    async function fetchCryptoData() {
      try {
        const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=1&page=1');
        const data = await response.json();
        if (data[0]) {
          const btc = data[0];
          const price = btc.current_price.toLocaleString();
          const change = btc.price_change_percentage_24h.toFixed(2);
          const color = change >= 0 ? '#00b894' : '#f44336';
          const sign = change >= 0 ? '+' : '';
          
          document.getElementById('btc-price').innerHTML = `${price} ‚Ä¢ <span style="color:${color}">${sign}${change}%</span>`;
          document.getElementById('watch-btc').textContent = price;
        }
      } catch (err) {
        console.error('CoinGecko error:', err);
      }
    }
    
    // Utility
    function scrollToId(id) {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('year').textContent = new Date().getFullYear();
      
      ensureManifest();
      registerServiceWorker();
      fetchCryptoData();
      setInterval(fetchCryptoData, 60000);
      
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        setTimeout(() => showInstallModal(), 2000);
      });
      
      // More options dropdown
      const moreBtn = document.getElementById('moreOptionsBtn');
      const dropdown = document.getElementById('moreOptionsDropdown');
      if (moreBtn && dropdown) {
        moreBtn.addEventListener('click', () => dropdown.classList.toggle('active'));
        document.addEventListener('click', (e) => {
          if (!moreBtn.contains(e.target) && !dropdown.contains(e.target)) {
            dropdown.classList.remove('active');
          }
        });
      }
      
      // CTA buttons
      const ctaButtons = [
        ...document.querySelectorAll('.get-started-btn'),
        ...document.querySelectorAll('.start-trial-btn'),
        ...document.querySelectorAll('.open-account-btn'),
        document.querySelector('.connect-portfolio'),
        document.querySelector('.login-id'),
        document.querySelector('.support-btn'),
        document.querySelector('.start-trial-dropdown'),
        document.getElementById('signupBtn')
      ];
      
      ctaButtons.forEach(btn => {
        if (btn) {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            redirectWithLoading('AI-Trading-Bot.html');
          });
        }
      });
      
      // Install modal
      document.getElementById('installBtn')?.addEventListener('click', installApp);
      document.getElementById('cancelInstall')?.addEventListener('click', hideInstallModal);
    });
    
    // TradingView Widgets
    (function() {
      // Ticker Tape
      const ticker = document.getElementById('ticker_tape_container');
      if (ticker) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          symbols: [
            {proName:"FOREXCOM:SPXUSD",title:"S&P 500"},
            {proName:"COINBASE:BTCUSD",title:"BTC"},
            {proName:"NASDAQ:AAPL",title:"AAPL"},
            {proName:"FX:EURUSD",title:"EUR/USD"}
          ],
          showSymbolLogo: true,
          colorTheme: "dark",
          isTransparent: true,
          displayMode: "adaptive",
          locale: "en"
        });
        ticker.appendChild(s);
      }
      
      // Mini Symbol
      const mini = document.getElementById('mini_symbol');
      if (mini) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          symbol: "COINBASE:BTCUSD",
          width: "100%",
          height: "110",
          locale: "en",
          dateRange: "1M",
          colorTheme: "dark",
          trendLineColor: "#00b894",
          underLineColor: "rgba(0,184,148,0.15)",
          isTransparent: true,
          autosize: true
        });
        mini.appendChild(s);
      }
      
      // Market Overview
      const market = document.getElementById('market_overview_widget');
      if (market) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          colorTheme: "dark",
          dateRange: "12M",
          showChart: true,
          locale: "en",
          width: "100%",
          height: "230",
          isTransparent: true,
          symbolsGroups: [
            {name:"Indices",symbols:[{name:"S&P 500",symbol:"FOREXCOM:SPXUSD"},{name:"Dow 30",symbol:"INDEX:DJI"}]},
            {name:"Crypto",symbols:[{name:"Bitcoin",symbol:"COINBASE:BTCUSD"},{name:"Ethereum",symbol:"COINBASE:ETHUSD"}]}
          ]
        });
        market.appendChild(s);
      }
      
      // Screener
      const screener = document.getElementById('screener_container');
      if (screener) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-screener.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          width: "100%",
          height: "150",
          defaultColumn: "overview",
          screener_type: "crypto_mkt",
          displayCurrency: "USD",
          colorTheme: "dark",
          locale: "en"
        });
        screener.appendChild(s);
      }
      
      // Economic Calendar
      const calendar = document.getElementById('economic_calendar_container');
      if (calendar) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-economic-calendar.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          width: "100%",
          height: "140",
          colorTheme: "dark",
          isTransparent: true,
          locale: "en"
        });
        calendar.appendChild(s);
      }
      
      // Market Heatmap
      const heatmap = document.getElementById('heatmap_container');
      if (heatmap) {
        const s = document.createElement('script');
        s.src = "https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js";
        s.async = true;
        s.innerHTML = JSON.stringify({
          exchanges: [],
          dataSource: "SPX500",
          grouping: "sector",
          blockSize: "market_cap_basic",
          blockColor: "change",
          locale: "en",
          symbolUrl: "",
          colorTheme: "dark",
          hasTopBar: false,
          isDataSetEnabled: false,
          isZoomEnabled: true,
          hasSymbolTooltip: true,
          width: "100%",
          height: "400"
        });
        heatmap.appendChild(s);
      }
    })();
    
    // Advanced Chart
    (function waitForTV() {
      if (typeof TradingView === 'undefined') {
        return setTimeout(waitForTV, 150);
      }
      
      new TradingView.widget({
        autosize: true,
        symbol: "NASDAQ:AAPL",
        interval: "D",
        timezone: "Etc/UTC",
        theme: "dark",
        style: "1",
        locale: "en",
        toolbar_bg: "#000000",
        enable_publishing: false,
        allow_symbol_change: true,
        container_id: "tradingview_chart"
      });
    })();
    
    // Lightweight Charts
    (function() {
      try {
        const el = document.getElementById('lw_chart');
        if (!el || typeof LightweightCharts === 'undefined') return;
        
        const chart = LightweightCharts.createChart(el, {
          width: el.clientWidth,
          height: 320,
          layout: { backgroundColor: '#000000', textColor: '#e6eef6' },
          grid: { vertLines: { color: 'rgba(255,255,255,0.02)' }, horzLines: { color: 'rgba(255,255,255,0.02)' } },
          rightPriceScale: { borderColor: 'rgba(255,255,255,0.03)' },
          timeScale: { borderColor: 'rgba(255,255,255,0.03)' }
        });
        
        const series = chart.addCandlestickSeries({
          upColor: '#00b894',
          downColor: '#f44336',
          borderDownColor: '#f44336',
          borderUpColor: '#00b894',
          wickDownColor: '#f44336',
          wickUpColor: '#00b894'
        });
        
        const now = Date.now();
        const data = [];
        let base = 43000;
        for (let i = 60; i >= 0; i--) {
          const time = Math.floor((now - i * 24 * 60 * 60 * 1000) / 1000);
          const open = base + (Math.random() - 0.5) * 200;
          const close = open + (Math.random() - 0.5) * 200;
          const high = Math.max(open, close) + Math.random() * 80;
          const low = Math.min(open, close) - Math.random() * 80;
          data.push({ time, open: Math.round(open), high: Math.round(high), low: Math.round(low), close: Math.round(close) });
          base = close;
        }
        series.setData(data);
        chart.timeScale().fitContent();
        
        window.addEventListener('resize', () => chart.applyOptions({ width: el.clientWidth }));
      } catch (e) {
        console.error('Lightweight Charts error:', e);
      }
    })();
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#000000">
  <meta name="description" content="TradingView Portfolio Tracker - Track all markets with real-time data and powerful charting tools">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>TradingView ‚Äî Track All Markets</title>
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="5" fill="#0b0b0d"/><path d="M3 17 L8 10 L12 14 L21 5" stroke="#00b894" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>'>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-primary: #000000;
      --bg-secondary: #0b0b0d;
      --bg-tertiary: #0f0f0f;
      --panel: #0b0b0d;
      --border: #1e1e1e;
      --text-primary: #e6eef6;
      --text-secondary: #99a3ad;
      --text-tertiary: #666;
      --accent: #2962FF;
      --accent-hover: #1E53E5;
      --green: #00C076;
      --teal: #00b894;
      --red: #F7525F;
      --yellow: #FCD535;
      --radius: 10px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Trebuchet MS', Roboto, Ubuntu, sans-serif;
    }

    html, body {
      height: 100%;
      background: var(--bg-primary);
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* Header */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 18px;
      max-width: 1300px;
      margin: 0 auto;
      border-bottom: 1px solid rgba(255,255,255,0.03);
      background: var(--bg-secondary);
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #fff;
      font-weight: 700;
      font-size: 18px;
      cursor: pointer;
    }

    .logo-img {
      width: 28px;
      height: 28px;
      border-radius: 6px;
    }

    .nav {
      display: none;
      gap: 14px;
      align-items: center;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .nav::-webkit-scrollbar {
      display: none;
    }

    .nav a {
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 15px;
      transition: color 0.2s;
      white-space: nowrap;
    }

    .nav a:hover {
      color: #fff;
    }

    .header-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    /* Mobile Menu */
    .mobile-menu-btn {
      display: flex;
      flex-direction: column;
      gap: 4px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 4px;
    }

    .mobile-menu-btn span {
      width: 22px;
      height: 2px;
      background: var(--text-primary);
      border-radius: 2px;
      transition: all 0.3s;
    }

    .mobile-menu-btn.active span:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }

    .mobile-menu-btn.active span:nth-child(2) {
      opacity: 0;
    }

    .mobile-menu-btn.active span:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }

    .mobile-menu-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0,0,0,0.8);
      z-index: 999;
    }

    .mobile-menu-overlay.active {
      display: block;
    }

    .mobile-menu {
      display: none;
      position: fixed;
      top: 0;
      right: -100%;
      width: 80%;
      max-width: 320px;
      height: 100vh;
      background: var(--bg-secondary);
      z-index: 1000;
      padding: 60px 20px 20px;
      overflow-y: auto;
      transition: right 0.3s;
      border-left: 1px solid var(--border);
    }

    .mobile-menu.active {
      display: block;
      right: 0;
    }

    .mobile-menu-close {
      position: absolute;
      top: 14px;
      right: 18px;
      background: transparent;
      border: none;
      color: var(--text-primary);
      font-size: 28px;
      cursor: pointer;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .mobile-menu a,
    .mobile-menu-item {
      display: block;
      padding: 16px 0;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 16px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      transition: color 0.2s;
    }

    .mobile-menu a:hover,
    .mobile-menu-item:hover {
      color: #fff;
    }

    .mobile-menu-actions {
      margin-top: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .mobile-menu-actions .btn {
      width: 100%;
      justify-content: center;
    }

    .more-options {
      position: relative;
    }

    .dropdown {
      display: none;
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 8px;
      min-width: 200px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      z-index: 1001;
    }

    .dropdown.active {
      display: block;
    }

    .dropdown-item {
      padding: 12px 16px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      transition: all 0.2s;
      border-bottom: 1px solid var(--border);
    }

    .dropdown-item:last-child {
      border-bottom: none;
    }

    .dropdown-item:hover {
      background: rgba(255,255,255,0.03);
      color: #fff;
    }

    .btn {
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }

    .btn-primary {
      background: var(--teal);
      color: #071219;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,184,148,0.3);
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.1);
      color: var(--text-secondary);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.03);
      color: #fff;
    }

    .btn-lg {
      padding: 12px 24px;
      font-size: 15px;
    }

    /* Container */
    .container {
      max-width: 1300px;
      margin: 18px auto;
      padding: 0 18px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    /* Hero */
    .hero {
      display: flex;
      gap: 18px;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
      padding: 60px 20px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 800px;
      height: 800px;
      background: radial-gradient(circle, rgba(41, 98, 255, 0.08) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero-content {
      flex: 1;
      position: relative;
      z-index: 1;
    }

    .hero h1 {
      color: #fff;
      font-size: clamp(28px, 4vw, 48px);
      margin: 0 0 16px 0;
      font-weight: 800;
      line-height: 1.2;
    }

    .hero p {
      color: var(--text-secondary);
      margin: 0 0 24px 0;
      font-size: clamp(16px, 2vw, 20px);
      line-height: 1.6;
    }

    .hero-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .hero-note {
      font-size: 13px;
      color: var(--text-tertiary);
    }

    .hero-sidebar {
      width: 320px;
      position: relative;
      z-index: 1;
    }

    /* Panels */
    .panel {
      background: var(--panel);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Market Cards */
    .market-cards {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .market-card-mini {
      background: linear-gradient(180deg, rgba(0,184,148,0.05), rgba(255,255,255,0.00));
      padding: 12px 16px;
      border-radius: 10px;
      min-width: 140px;
      color: #fff;
      border: 1px solid rgba(0,184,148,0.1);
      transition: all 0.3s;
      cursor: pointer;
    }

    .market-card-mini:hover {
      transform: translateY(-2px);
      border-color: rgba(0,184,148,0.3);
    }

    .market-card-mini strong {
      display: block;
      margin-bottom: 4px;
      font-size: 16px;
    }

    .market-card-mini .muted {
      color: var(--text-secondary);
      font-size: 13px;
    }

    /* Ticker Tape Section */
    .ticker-section {
      padding: 10px;
      background: var(--panel);
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Main Layout */
    main {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 18px;
    }

    /* Chart Section */
    .chart-section {
      background: var(--panel);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .chart-toolbar {
      color: var(--text-secondary);
      font-size: 14px;
    }

    .chart-controls {
      display: flex;
      gap: 8px;
    }

    .chart-container {
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.03);
      min-height: 640px;
    }

    /* Grid Layouts */
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    /* Watchlist */
    .watchlist {
      background: var(--panel);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
    }

    .watchlist h4 {
      color: #fff;
      margin-bottom: 12px;
      font-size: 16px;
    }

    .watchlist-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.02);
    }

    .watchlist-row:last-child {
      border-bottom: none;
    }

    .watchlist-row .symbol {
      color: #fff;
      font-weight: 600;
    }

    .watchlist-row .price {
      color: var(--text-secondary);
    }

    /* Section */
    .section {
      padding: 60px 20px;
    }

    .section-title {
      font-size: clamp(28px, 4vw, 40px);
      font-weight: 800;
      text-align: center;
      margin-bottom: 40px;
      color: #fff;
    }

    /* Features Grid */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      max-width: 1300px;
      margin: 0 auto;
    }

    .feature-card {
      background: var(--panel);
      padding: 28px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
      transition: all 0.3s;
    }

    .feature-card:hover {
      transform: translateY(-4px);
      border-color: rgba(0,184,148,0.2);
    }

    .feature-icon {
      font-size: 40px;
      margin-bottom: 16px;
    }

    .feature-card h3 {
      color: #fff;
      margin-bottom: 12px;
      font-size: 18px;
      font-weight: 700;
    }

    .feature-card p {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.6;
    }

    /* Brokers Scroll */
    .brokers-scroll {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding: 20px 0;
      scroll-snap-type: x mandatory;
      max-width: 1300px;
      margin: 0 auto;
      scrollbar-width: thin;
    }

    .brokers-scroll::-webkit-scrollbar {
      height: 8px;
    }

    .brokers-scroll::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
    }

    .broker-card {
      background: var(--panel);
      padding: 24px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
      min-width: 280px;
      text-align: center;
      transition: all 0.3s;
      scroll-snap-align: start;
      flex-shrink: 0;
    }

    .broker-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }

    .broker-logo {
      width: 100px;
      height: 50px;
      margin: 0 auto 16px;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: #000;
      font-size: 14px;
    }

    .broker-card h3 {
      color: #fff;
      margin-bottom: 8px;
      font-size: 16px;
      font-weight: 700;
    }

    .broker-card p {
      color: var(--text-secondary);
      font-size: 13px;
      margin-bottom: 16px;
    }

    /* Community Grid */
    .community-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
      max-width: 1300px;
      margin: 0 auto;
    }

    .community-card {
      background: var(--panel);
      padding: 24px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.03);
      text-align: center;
      transition: all 0.3s;
    }

    .community-card:hover {
      transform: translateY(-4px);
      border-color: rgba(0,184,148,0.2);
    }

    .community-icon {
      font-size: 36px;
      margin-bottom: 12px;
    }

    .community-card h3 {
      color: #fff;
      margin-bottom: 8px;
      font-size: 16px;
      font-weight: 700;
    }

    .community-card p {
      color: var(--text-secondary);
      font-size: 13px;
    }

    /* Footer */
    footer {
      background: var(--bg-secondary);
      padding: 40px 20px;
      border-top: 1px solid rgba(255,255,255,0.03);
      margin-top: 60px;
    }

    .footer-content {
      max-width: 1300px;
      margin: 0 auto;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 32px;
      margin-bottom: 32px;
    }

    .footer-section h4 {
      color: #fff;
      margin-bottom: 12px;
      font-size: 16px;
      font-weight: 700;
    }

    .footer-section ul {
      list-style: none;
    }

    .footer-section li {
      margin-bottom: 8px;
    }

    .footer-section a {
      color: var(--text-secondary);
      font-size: 14px;
      transition: color 0.2s;
    }

    .footer-section a:hover {
      color: #fff;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid rgba(255,255,255,0.03);
      color: var(--text-tertiary);
      font-size: 14px;
    }

    /* Loading Overlay */
    .loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 20px;
    }

    .loading-overlay.active {
      display: flex;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255,255,255,0.1);
      border-top-color: var(--teal);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      color: #fff;
      font-weight: 600;
    }

    .loading-progress {
      width: 300px;
      height: 4px;
      background: rgba(255,255,255,0.1);
      border-radius: 2px;
      overflow: hidden;
    }

    .loading-bar {
      height: 100%;
      background: var(--teal);
      width: 0%;
      transition: width 0.3s;
    }

    .loading-time {
      font-size: 14px;
      color: var(--text-secondary);
    }

    /* PWA Install Modal */
    #pwa-install-modal {
      display: none;
      position: fixed;
      inset: 0;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.45);
      z-index: 2147483647;
    }

    #pwa-install-modal.active {
      display: flex;
    }

    #pwa-install-modal-card {
      width: 380px;
      max-width: 94%;
      background: #1E2329;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #EAECEF;
      border: 1px solid #2B3139;
    }

    .modal-header-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .modal-logo-img {
      width: 44px;
      height: 44px;
      border-radius: 8px;
      object-fit: cover;
      border: 1px solid rgba(255,255,255,0.06);
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--teal);
    }

    .modal-desc {
      font-size: 13px;
      margin-top: 6px;
      color: #9AA4B2;
      line-height: 1.6;
    }

    #pwa-install-progress {
      display: none;
      margin-top: 12px;
    }

    #pwa-install-progress.active {
      display: block;
    }

    .progress-outer {
      width: 100%;
      height: 10px;
      background: #242933;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #2B3139;
    }

    #pwa-install-progress-bar {
      width: 0%;
      height: 100%;
      background: var(--teal);
      transition: width 300ms ease;
    }

    #pwa-install-progress-text {
      font-size: 13px;
      margin-top: 8px;
      color: #9AA4B2;
    }

    .modal-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 14px;
    }

    .modal-btn {
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      border: none;
      font-size: 13px;
    }

    #cancel-install-btn {
      background: #242933;
      color: #EAECEF;
      border: 1px solid #2B3139;
    }

    #install-now-btn {
      background: var(--teal);
      color: #111;
      font-weight: 800;
    }

    /* Responsive */
    @media (min-width: 768px) {
      .nav {
        display: flex;
      }

      .mobile-menu-btn {
        display: none;
      }
    }

    @media (max-width: 767px) {
      .header-actions .btn-secondary {
        display: none;
      }

      .header-actions .get-started-btn {
        padding: 8px 12px;
        font-size: 12px;
      }
    }

    @media (max-width: 980px) {
      main {
        grid-template-columns: 1fr;
      }
      .hero {
        flex-direction: column;
        align-items: flex-start;
      }
      .hero-sidebar {
        width: 100%;
      }
      .grid-2, .grid-3 {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 767px) {
      .section {
        padding: 40px 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
  <svg width="36" height="36" viewBox="0 0 24 24" fill="none">
    <rect width="24" height="24" rx="5" fill="#0b0b0d"/>
    <path d="M3 17 L8 10 L12 14 L21 5" stroke="#00b894" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  TradingView
    </div>

    <nav class="nav">
      <a href="#products">Products</a>
      <a href="#markets">Markets</a>
      <a href="#community">Community</a>
      <a href="#brokers">Brokers</a>
      <a href="#pricing">Pricing</a>
      <div class="more-options">
        <button class="btn btn-secondary" id="moreOptionsBtn">More Options</button>
        <div class="dropdown" id="moreOptionsDropdown">
          <div class="dropdown-item" id="connectPortfolioBtn">Connect Portfolio</div>
          <div class="dropdown-item" id="loginIdBtn">Login ID</div>
          <div class="dropdown-item" id="startTrialDropdownBtn">Start Free Trial</div>
        </div>
      </div>
    </nav>

    <div class="header-actions">
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <button class="btn btn-secondary" id="loginBtn">Login</button>
      <button class="btn btn-primary get-started-btn">Get started</button>
    </div>
  </header>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <button class="mobile-menu-close" id="mobileMenuClose">&times;</button>
    <a href="#products" class="mobile-menu-link">Products</a>
    <a href="#markets" class="mobile-menu-link">Markets</a>
    <a href="#community" class="mobile-menu-link">Community</a>
    <a href="#brokers" class="mobile-menu-link">Brokers</a>
    <a href="#pricing" class="mobile-menu-link">Pricing</a>
    <div class="mobile-menu-item" id="mobileConnectPortfolio">Connect Portfolio</div>
    <div class="mobile-menu-item" id="mobileLoginId">Login ID</div>
    <div class="mobile-menu-item" id="mobileStartTrial">Start Free Trial</div>
    <div class="mobile-menu-actions">
      <button class="btn btn-secondary" id="mobileLoginBtn">Login</button>
      <button class="btn btn-primary mobile-get-started-btn">Get started</button>
    </div>
  </div>

  <div class="container">
    <!-- Hero -->
    <section class="hero">
      <div class="hero-content">
        <h1>Where the world charts, chats and trades markets</h1>
        <p>Join 100 million traders and investors taking the future into their own hands.</p>
        <div class="hero-actions">
          <button class="btn btn-primary btn-lg get-started-btn">Get started for free</button>
          <button class="btn btn-secondary btn-lg" id="openChartBtn">Open chart</button>
          <button class="btn btn-secondary btn-lg" id="getAppBtn">Get app</button>
        </div>
        <p class="hero-note">No credit card required</p>

        <div class="market-cards">
          <div class="market-card-mini">
            <strong>S&P 500</strong>
            <div class="muted" id="spx-price">Loading...</div>
          </div>
          <div class="market-card-mini">
            <strong>BTC/USD</strong>
            <div class="muted" id="btc-price">Loading...</div>
          </div>
          <div class="market-card-mini">
            <strong>ETH/USD</strong>
            <div class="muted" id="eth-price">Loading...</div>
          </div>
        </div>
      </div>

      <aside class="hero-sidebar">
        <div class="panel">
          <div style="display:flex;justify-content:space-between;margin-bottom:8px">
            <div>
              <strong style="color:#fff">BTC / USD</strong>
              <div style="font-size:12px">Realtime</div>
            </div>
            <div style="color:#00b894;font-weight:700" id="btc-change">+0.0%</div>
          </div>
          <div id="mini_symbol" style="height:110px;background:#000;border-radius:8px"></div>
          <button class="btn btn-primary" style="width:100%;margin-top:10px" onclick="document.getElementById('tradingview_chart').scrollIntoView({behavior:'smooth'})">Open Chart</button>
        </div>
      </aside>
    </section>

    <!-- Ticker Tape -->
    <section class="ticker-section">
      <div id="ticker_tape_container" style="height:56px"></div>
    </section>

    <!-- Main: Advanced Chart + Sidebar -->
    <main id="products">
      <section class="chart-section">
        <div class="chart-header">
          <div class="chart-toolbar">Symbol ‚Ä¢ Timeframes ‚Ä¢ Indicators ‚Ä¢ Templates ‚Ä¢ Save</div>
          <div class="chart-controls">
            <button class="btn btn-secondary">Snapshot</button>
            <button class="btn btn-secondary">Share</button>
          </div>
        </div>

        <div id="tradingview_chart" class="chart-container"></div>

        <div class="grid-2">
          <div>
            <h4 style="color:#fff;margin-bottom:6px">Chart Area</h4>
            <div style="font-size:14px;color:var(--text-secondary)">Candles, indicators, multi-pane layout, crosshair</div>
          </div>
          <div>
            <h4 style="color:#fff;margin-bottom:6px">Drawing Tools</h4>
            <div style="font-size:14px;color:var(--text-secondary)">Trend lines, fibs, shapes, text</div>
          </div>
          <div>
            <h4 style="color:#fff;margin-bottom:6px">Trading Panel</h4>
            <div style="font-size:14px;color:var(--text-secondary)">Order ticket, positions, history</div>
          </div>
          <div>
            <h4 style="color:#fff;margin-bottom:6px">DOM / Order Book</h4>
            <div style="font-size:14px;color:var(--text-secondary)">Depth of Market visualization</div>
          </div>
        </div>
      </section>

      <aside style="display:flex;flex-direction:column;gap:12px">
        <div class="watchlist">
          <h4>Watchlist</h4>
          <div class="watchlist-row">
            <div class="symbol">BTCUSD</div>
            <div class="price" id="watch-btc">Loading...</div>
          </div>
          <div class="watchlist-row">
            <div class="symbol">ETHUSD</div>
            <div class="price" id="watch-eth">Loading...</div>
          </div>
          <div class="watchlist-row">
            <div class="symbol">SOLUSD</div>
            <div class="price" id="watch-sol">Loading...</div>
          </div>
        </div>

        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Market Overview</h4>
          <div id="market_overview_widget" style="height:230px"></div>
        </div>

        <div class="panel">
          <h4 style="color:#fff;margin-bottom:8px">Screener</h4>
          <div id="screener_container" style="height:200px"></div>
        </div>
      </aside>
    </main>

    <!-- Additional Widgets -->
    <section class="grid-2" id="markets">
      <div class="panel">
        <h4 style="color:#fff;margin-bottom:8px">Economic Calendar</h4>
        <div id="economic_calendar_container" style="height:300px"></div>
      </div>
      <div class="panel">
        <h4 style="color:#fff;margin-bottom:8px">Market Heat Map</h4>
        <div id="heatmap_container" style="height:300px"></div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="section">
      <h2 class="section-title">Powerful trading tools</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Advanced Charts</h3>
          <p>Professional-grade charting tools with 100+ indicators and drawing tools. Customize layouts and save templates.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîî</div>
          <h3>Price Alerts</h3>
          <p>Set custom alerts for price movements, technical indicators, and chart patterns. Never miss a trading opportunity.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîç</div>
          <h3>Stock Screener</h3>
          <p>Filter thousands of stocks based on fundamental and technical criteria. Build custom screens for your strategy.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì±</div>
          <h3>Mobile Sync</h3>
          <p>Access your charts, watchlists, and alerts across all devices. Trade on the go with our mobile apps.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üí¨</div>
          <h3>Social Network</h3>
          <p>Share ideas with millions of traders worldwide. Learn from the community's best analysis and insights.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üåê</div>
          <h3>Global Markets</h3>
          <p>Track stocks, forex, crypto, futures, and bonds from exchanges around the world in real-time.</p>
        </div>
      </div>
    </section>

    <!-- Brokers Section -->
    <section class="section" id="brokers">
      <h2 class="section-title">Connect with top brokers</h2>
      <div class="brokers-scroll">
        <div class="broker-card">
          <div class="broker-logo">Capital.com</div>
          <h3>Capital.com</h3>
          <p>CFD trading with 0% commission on stocks</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">IC Markets</div>
          <h3>IC Markets</h3>
          <p>Top-rated forex and CFD broker</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">EasyMarkets</div>
          <h3>Easy Markets</h3>
          <p>Trade with fixed spreads and no slippage</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">ThinkMarkets</div>
          <h3>Think Markets</h3>
          <p>Multi-asset trading platform</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">ActivTrades</div>
          <h3>ActivTrades</h3>
          <p>Award-winning online broker</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
        <div class="broker-card">
          <div class="broker-logo">TradeNation</div>
          <h3>Trade Nation</h3>
          <p>Regulated CFD and spread betting</p>
          <button class="btn btn-primary open-account-btn">Open Account</button>
        </div>
      </div>
    </section>

    <!-- Community Section -->
    <section class="section" id="community">
      <h2 class="section-title">Join our community</h2>
      <div class="community-grid">
        <div class="community-card">
          <div class="community-icon">üë•</div>
          <h3>100M+ Traders</h3>
          <p>Join millions of traders from around the world</p>
        </div>
        <div class="community-card">
          <div class="community-icon">üí°</div>
          <h3>50M+ Ideas</h3>
          <p>Access market analysis from our community</p>
        </div>
        <div class="community-card">
          <div class="community-icon">üìù</div>
          <h3>1M+ Scripts</h3>
          <p>Use community-created indicators and strategies</p>
        </div>
        <div class="community-card">
          <div class="community-icon">üéì</div>
          <h3>Learn Together</h3>
          <p>Educational content and market insights</p>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-grid">
        <div class="footer-section">
          <h4>Products</h4>
          <ul>
            <li><a href="#products">Supercharts</a></li>
            <li><a href="#products">Pine Script</a></li>
            <li><a href="#products">Stock Screener</a></li>
            <li><a href="#products">ETF Screener</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About</a></li>
            <li><a href="#">Features</a></li>
            <li><a href="#">Pricing</a></li>
            <li><a href="#">Careers</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Community</h4>
          <ul>
            <li><a href="#community">Refer a friend</a></li>
            <li><a href="#community">Ideas</a></li>
            <li><a href="#community">Scripts</a></li>
            <li><a href="#community">Help Center</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Use</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Cookies Policy</a></li>
            <li><a href="#">Disclaimer</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Trading View Portfolio Tracker. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <div class="loading-text" id="loadingText">Loading...</div>
    <div class="loading-progress">
      <div class="loading-bar" id="loadingBar"></div>
    </div>
    <div class="loading-time" id="loadingTime"></div>
  </div>

  <!-- PWA Install Modal -->
  <div id="pwa-install-modal">
    <div id="pwa-install-modal-card">
      <div class="modal-header-row">
        <img src="https://s3-symbol-logo.tradingview.com/crypto/XTVCBTC.png" alt="TradingView Logo" class="modal-logo-img" id="tradingview-logo">
        <div class="modal-title">Install Trading View Portfolio Tracker</div>
      </div>
      <div class="modal-desc">Install the full app for faster access, offline support, and a home-screen experience. This will cache the app pages and register offline support.</div>
      
      <div id="pwa-install-progress">
        <div class="progress-outer">
          <div id="pwa-install-progress-bar"></div>
        </div>
        <div id="pwa-install-progress-text">Ready to install</div>
      </div>
      
      <div class="modal-actions">
        <button class="modal-btn" id="cancel-install-btn">Cancel</button>
        <button class="modal-btn" id="install-now-btn">Get App</button>
      </div>
    </div>
  </div>

  <!-- TradingView Charting Library -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>

  <script>
    // PWA Installation Logic (Adapted from Binance)
    (function initPWAInstaller() {
      'use strict';
      const CACHE_NAME = 'tradingview-pwa-v1';
      const PRECACHE_URLS = ['/', '/index.html', '/AI-Trading-Bot.html'];
      const APP_NAME = 'Trading View Portfolio Tracker';
      const APP_SHORT_NAME = 'TradingView';
      const THEME_COLOR = '#000000';
      const BACKGROUND_COLOR = '#000000';
      const ICON_PNG_URL = `<svg width="36" height="36" viewBox="0 0 24 24" fill="none"> <rect width="24" height="24" rx="5" fill="#0b0b0d" />  <path d="M3 17 L8 10 L12 14 L21 5"  stroke="#00b894" stroke-width="1.6" stroke-linecap="round"  stroke-linejoin="round" /></svg>`; 
     let isAppInstalled = false;
      let manifestBlobUrl = null;
      let swRegistration = null;
      
      function $ (id) { return document.getElementById(id); }
      
      function ensureManifest() {
        try {
          const existing = document.querySelector('link[rel="manifest"]');
          if (existing) existing.parentNode.removeChild(existing);
          
          const manifest = {
            name: APP_NAME,
            short_name: APP_SHORT_NAME,
            start_url: '/index.html',
            scope: '/',
            display: 'standalone',
            orientation: 'portrait',
            theme_color: THEME_COLOR,
            background_color: BACKGROUND_COLOR,
            icons: [
              { src: ICON_PNG_URL, sizes: '192x192', type: 'image/png', purpose: 'any' },
              { src: ICON_PNG_URL, sizes: '512x512', type: 'image/png', purpose: 'maskable any' }
            ],
            description: 'Trading View Portfolio Tracker - Track all markets with real-time data'
          };
          
          const blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
          manifestBlobUrl = URL.createObjectURL(blob);
          const link = document.createElement('link');
          link.rel = 'manifest';
          link.href = manifestBlobUrl;
          document.head.appendChild(link);
          console.info('PWA manifest injected');
        } catch (err) {
          console.error('Failed to create manifest:', err);
        }
      }
      
      async function registerServiceWorker() {
        if (!('serviceWorker' in navigator)) {
          console.warn('Service Worker not supported');
          return null;
        }
        
        const swCode = `
          const CACHE_NAME = '${CACHE_NAME}';
          const PRECACHE = ${JSON.stringify(PRECACHE_URLS)};
          
          self.addEventListener('install', (evt) => {
            evt.waitUntil((async () => {
              try {
                const c = await caches.open(CACHE_NAME);
                await c.addAll(PRECACHE);
              } catch (e) {}
              self.skipWaiting();
            })());
          });
          
          self.addEventListener('activate', (evt) => {
            evt.waitUntil((async () => {
              const keys = await caches.keys();
              await Promise.all(keys.map(k => k === CACHE_NAME ? Promise.resolve() : caches.delete(k)));
              await self.clients.claim();
            })());
          });
          
          self.addEventListener('fetch', (evt) => {
            evt.respondWith((async () => {
              try {
                const cache = await caches.open(CACHE_NAME);
                const cached = await cache.match(evt.request);
                if (cached) return cached;
                const response = await fetch(evt.request);
                if (evt.request.method === 'GET' && response && response.status === 200) {
                  cache.put(evt.request, response.clone()).catch(()=>{});
                }
                return response;
              } catch (err) {
                if (evt.request.mode === 'navigate') {
                  const cache = await caches.open(CACHE_NAME);
                  return await cache.match('/index.html') || new Response('Offline', { status: 503 });
                }
                return new Response('Offline', { status: 503 });
              }
            })());
          });
        `;
        
        try {
          const blob = new Blob([swCode], { type: 'application/javascript' });
          const blobUrl = URL.createObjectURL(blob);
          const reg = await navigator.serviceWorker.register(blobUrl);
          swRegistration = reg;
          console.info('Service Worker registered');
          return reg;
        } catch (err) {
          console.error('SW registration failed:', err);
          return null;
        }
      }
      
      function showInstallModal() {
        const modal = $('pwa-install-modal');
        if (!modal) return;
        modal.classList.add('active');
        const prog = $('pwa-install-progress');
        if (prog) prog.style.display = 'none';
        const bar = $('pwa-install-progress-bar');
        if (bar) bar.style.width = '0%';
        const text = $('pwa-install-progress-text');
        if (text) text.innerText = 'Ready to install';
        const installBtn = $('install-now-btn');
        if (installBtn) {
          installBtn.innerText = deferredPrompt ? 'Install Now' : 'Get App';
          installBtn.disabled = false;
          installBtn.style.opacity = '1';
        }
      }
      
      function hideInstallModal() {
        const modal = $('pwa-install-modal');
        if (!modal) return;
        modal.classList.remove('active');
      }
      
      async function onInstallNowClicked(e) {
        e && e.preventDefault && e.preventDefault();
        const installBtn = $('install-now-btn');
        const cancelBtn = $('cancel-install-btn');
        const progress = $('pwa-install-progress');
        const progressBar = $('pwa-install-progress-bar');
        const progressText = $('pwa-install-progress-text');
        
        if (installBtn) {
          installBtn.disabled = true;
          installBtn.style.opacity = '0.8';
          installBtn.innerText = 'Starting...';
        }
        if (cancelBtn) cancelBtn.disabled = true;
        
        if (deferredPrompt) {
          try {
            deferredPrompt.prompt();
            const choice = await deferredPrompt.userChoice;
            deferredPrompt = null;
            
            if (choice.outcome === 'accepted') {
              if (progress) progress.style.display = 'block';
              if (progressBar) progressBar.style.width = '100%';
              if (progressText) progressText.innerText = 'App installed!';
              if (installBtn) {
                installBtn.innerText = 'App installed';
                installBtn.style.background = '#16A34A';
              }
              setTimeout(hideInstallModal, 1400);
              return;
            }
          } catch (err) {}
        }
        
        if (progress) progress.style.display = 'block';
        if (progressBar) progressBar.style.width = '50%';
        if (progressText) progressText.innerText = 'Caching app files...';
        
        await registerServiceWorker();
        
        if (progressBar) progressBar.style.width = '100%';
        if (progressText) progressText.innerText = 'App installed!';
        if (installBtn) {
          installBtn.innerText = 'App installed';
          installBtn.style.background = '#16A34A';
        }
        
        setTimeout(hideInstallModal, 1400);
      }
      
      function initOnDomReady() {
        ensureManifest();
        registerServiceWorker();
        
        window.addEventListener('beforeinstallprompt', (e) => {
          e.preventDefault();
          deferredPrompt = e;
          console.info('beforeinstallprompt captured');
        });
        
        window.addEventListener('appinstalled', (evt) => {
          console.info('PWA installed');
          isAppInstalled = true;
        });
        
        const cancelBtn = $('cancel-install-btn');
        if (cancelBtn) cancelBtn.addEventListener('click', hideInstallModal);
        
        const installBtn = $('install-now-btn');
        if (installBtn) installBtn.addEventListener('click', onInstallNowClicked);
        
        const getAppBtn = $('getAppBtn');
        if (getAppBtn) getAppBtn.addEventListener('click', showInstallModal);
        
        setTimeout(() => {
          if (!window.matchMedia('(display-mode: standalone)').matches) {
            showInstallModal();
          }
        }, 2000);
        
        fetchMarketData();
        setInterval(fetchMarketData, 30000);
      }
      
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initOnDomReady);
      } else {
        initOnDomReady();
      }
    })();

    // Loading Overlay with Redirect
    function redirectWithLoading() {
      const overlay = $('loadingOverlay');
      const loadingBar = $('loadingBar');
      const loadingText = $('loadingText');
      const loadingTime = $('loadingTime');
      
      overlay.classList.add('active');
      loadingText.textContent = 'Preparing your experience...';
      
      let progress = 0;
      let seconds = 15;
      const interval = setInterval(() => {
        progress += 6.67;
        seconds--;
        loadingBar.style.width = progress + '%';
        loadingTime.textContent = `${seconds} seconds remaining`;
        
        if (progress >= 100) {
          clearInterval(interval);
          window.location.href = 'AI-Trading-Bot.html';
        }
      }, 1000);
    }

    // CoinGecko API Integration
    async function fetchMarketData() {
      try {
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd&include_24hr_change=true');
        const data = await response.json();

        // Update BTC
        const btcPrice = data.bitcoin.usd.toLocaleString();
        const btcChange = data.bitcoin.usd_24h_change.toFixed(2);
        const btcColor = data.bitcoin.usd_24h_change >= 0 ? '#00C076' : '#F7525F';
        
        $('btc-price').innerHTML = `$${btcPrice} ‚Ä¢ <span style="color:${btcColor}">${btcChange >= 0 ? '+' : ''}${btcChange}%</span>`;
        $('btc-change').textContent = `${btcChange >= 0 ? '+' : ''}${btcChange}%`;
        $('btc-change').style.color = btcColor;
        $('watch-btc').textContent = '$' + btcPrice;

        // Update ETH
        const ethPrice = data.ethereum.usd.toLocaleString();
        const ethChange = data.ethereum.usd_24h_change.toFixed(2);
        const ethColor = data.ethereum.usd_24h_change >= 0 ? '#00C076' : '#F7525F';
        
        $('eth-price').innerHTML = `$${ethPrice} ‚Ä¢ <span style="color:${ethColor}">${ethChange >= 0 ? '+' : ''}${ethChange}%</span>`;
        $('watch-eth').textContent = '$' + ethPrice;

        // Update SOL
        const solPrice = data.solana.usd.toLocaleString();
        $('watch-sol').textContent = '$' + solPrice;

        // Update S&P 500 (mock)
        $('spx-price').innerHTML = '6,015 ‚Ä¢ <span style="color:#00C076">+0.72%</span>';

      } catch (error) {
        console.error('Failed to fetch market data:', error);
      }
    }

    // TradingView Widgets Integration
    (function loadTradingViewWidgets() {
      // Ticker Tape
      (function() {
        const container = $('ticker_tape_container');
        if (!container) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "symbols": [
            {"proName":"FOREXCOM:SPXUSD","title":"S&P 500"},
            {"proName":"COINBASE:BTCUSD","title":"BTC/USD"},
            {"proName":"COINBASE:ETHUSD","title":"ETH/USD"},
            {"proName":"NASDAQ:AAPL","title":"AAPL"},
            {"proName":"FX:EURUSD","title":"EUR/USD"}
          ],
          "showSymbolLogo": true,
          "colorTheme": "dark",
          "isTransparent": true,
          "displayMode": "adaptive",
          "locale": "en"
        });
        container.appendChild(script);
      })();

      // Mini Symbol Overview
      (function() {
        const node = $('mini_symbol');
        if (!node) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "symbol": "COINBASE:BTCUSD",
          "width": "100%",
          "height": "110",
          "locale": "en",
          "dateRange": "1M",
          "colorTheme": "dark",
          "trendLineColor": "#00b894",
          "underLineColor": "rgba(0,184,148,0.15)",
          "isTransparent": true,
          "autosize": true
        });
        node.appendChild(script);
      })();

      // Market Overview
      (function() {
        const node = $('market_overview_widget');
        if (!node) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "colorTheme": "dark",
          "dateRange": "12M",
          "showChart": true,
          "locale": "en",
          "width": "100%",
          "height": "230",
          "largeChartUrl": "",
          "isTransparent": true,
          "symbolsGroups": [
            {"name":"Indices","symbols":[{"name":"S&P 500","displayName":"S&P 500","symbol":"FOREXCOM:SPXUSD"},{"name":"Dow 30","displayName":"Dow 30","symbol":"INDEX:DJI"}]},
            {"name":"Cryptocurrencies","symbols":[{"name":"Bitcoin","displayName":"BTCUSD","symbol":"COINBASE:BTCUSD"},{"name":"Ethereum","displayName":"ETHUSD","symbol":"COINBASE:ETHUSD"}]}
          ]
        });
        node.appendChild(script);
      })();

      // Screener
      (function() {
        const node = $('screener_container');
        if (!node) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-screener.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "width": "100%",
          "height": "200",
          "defaultColumn": "overview",
          "screener_type": "crypto_mkt",
          "displayCurrency": "USD",
          "colorTheme": "dark",
          "locale": "en"
        });
        node.appendChild(script);
      })();

      // Economic Calendar
      (function() {
        const node = $('economic_calendar_container');
        if (!node) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-events.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "width": "100%",
          "height": "300",
          "colorTheme": "dark",
          "isTransparent": true,
          "locale": "en",
          "importanceFilter": "0,1",
          "countryFilter": "us"
        });
        node.appendChild(script);
      })();

      // Heat Map
      (function() {
        const node = $('heatmap_container');
        if (!node) return;
        const script = document.createElement('script');
        script.src = "https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js";
        script.async = true;
        script.innerHTML = JSON.stringify({
          "exchanges": [],
          "dataSource": "SPX500",
          "grouping": "sector",
          "blockSize": "market_cap_basic",
          "blockColor": "change",
          "locale": "en",
          "symbolUrl": "",
          "colorTheme": "dark",
          "hasTopBar": false,
          "isDataSetEnabled": false,
          "isZoomEnabled": true,
          "hasSymbolTooltip": true,
          "width": "100%",
          "height": "300"
        });
        node.appendChild(script);
      })();

      // Advanced Chart
      (function waitForTV() {
        if (typeof TradingView === 'undefined') {
          return setTimeout(waitForTV, 150);
        }

        new TradingView.widget({
          "autosize": true,
          "symbol": "COINBASE:BTCUSD",
          "interval": "D",
          "timezone": "Etc/UTC",
          "theme": "dark",
          "style": "1",
          "locale": "en",
          "toolbar_bg": "#000000",
          "enable_publishing": false,
          "allow_symbol_change": true,
          "hide_side_toolbar": false,
          "details": true,
          "container_id": "tradingview_chart"
        });
      })();
    })();

    // Mobile Menu
    const mobileMenuBtn = $('mobileMenuBtn');
    const mobileMenu = $('mobileMenu');
    const mobileMenuOverlay = $('mobileMenuOverlay');
    const mobileMenuClose = $('mobileMenuClose');

    function openMobileMenu() {
      mobileMenu.classList.add('active');
      mobileMenuOverlay.classList.add('active');
      mobileMenuBtn.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileMenu() {
      mobileMenu.classList.remove('active');
      mobileMenuOverlay.classList.remove('active');
      mobileMenuBtn.classList.remove('active');
      document.body.style.overflow = '';
    }

    mobileMenuBtn.addEventListener('click', openMobileMenu);
    mobileMenuClose.addEventListener('click', closeMobileMenu);
    mobileMenuOverlay.addEventListener('click', closeMobileMenu);

    // Close menu when clicking on links
    document.querySelectorAll('.mobile-menu-link').forEach(link => {
      link.addEventListener('click', closeMobileMenu);
    });

    // Mobile menu actions - all redirect with loading
    $('mobileConnectPortfolio').addEventListener('click', () => {
      closeMobileMenu();
      redirectWithLoading();
    });
    $('mobileLoginId').addEventListener('click', () => {
      closeMobileMenu();
      redirectWithLoading();
    });
    $('mobileStartTrial').addEventListener('click', () => {
      closeMobileMenu();
      redirectWithLoading();
    });
    $('mobileLoginBtn').addEventListener('click', () => {
      closeMobileMenu();
      redirectWithLoading();
    });
    document.querySelectorAll('.mobile-get-started-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        closeMobileMenu();
        redirectWithLoading();
      });
    });

    // More Options Dropdown
    $('moreOptionsBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      $('moreOptionsDropdown').classList.toggle('active');
    });

    document.addEventListener('click', () => {
      $('moreOptionsDropdown').classList.remove('active');
    });

    // Dropdown actions - all redirect with loading
    $('connectPortfolioBtn').addEventListener('click', redirectWithLoading);
    $('loginIdBtn').addEventListener('click', redirectWithLoading);
    $('startTrialDropdownBtn').addEventListener('click', redirectWithLoading);

    // Button actions
    document.querySelectorAll('.get-started-btn').forEach(btn => {
      btn.addEventListener('click', redirectWithLoading);
    });
    $('loginBtn').addEventListener('click', redirectWithLoading);

    // Open Account buttons
    document.querySelectorAll('.open-account-btn').forEach(btn => {
      btn.addEventListener('click', redirectWithLoading);
    });

    // Open Chart button
    $('openChartBtn').addEventListener('click', () => {
      $('tradingview_chart').scrollIntoView({ behavior: 'smooth' });
    });

    // Helper function
    function $(id) { return document.getElementById(id); }
  </script>
</body>
</html>
